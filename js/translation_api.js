function deleteTranslation(){var a=window.parent.frames.ro;"undefined"==typeof a&&(a=window.opener);$('[name="WoTranslation"]',a.document).val().trim().length&&($('[name="WoTranslation"]',a.document).val(""),a.makeDirty())}
function addTranslation(a){var c=window.parent.frames.ro;"undefined"==typeof c&&(c=window.opener);if("undefined"==typeof c)alert("Translation can not be copied!");else{var d=c.document.forms[0].WoTranslation;if("object"!=typeof d)alert("Translation can not be copied!");else{var b=d.value;""==b.trim()?(d.value=a,c.makeDirty()):-1==b.indexOf(a)?(d.value=b+" / "+a,c.makeDirty()):confirm('"'+a+'" seems already to exist as a translation.\nInsert anyway?')&&(d.value=b+" / "+a,c.makeDirty())}}}
function getGlosbeTranslation(a,c,d){$.ajax({url:"http://glosbe.com/gapi/translate?from="+c+"&dest="+d+"&format=json&phrase="+a+"&callback=?",type:"GET",dataType:"jsonp",jsonp:"getTranslationFromGlosbeApi",jsonpCallback:"getTranslationFromGlosbeApi",async:"true"})}
function getTranslationFromGlosbeApi(a){try{$.each(a.tuc,function(a,b){b.phrase?$("#translations").append('<span class="click" onclick="addTranslation(\''+b.phrase.text+'\');"><img src="icn/tick-button.png" title="Copy" alt="Copy" /> &nbsp; '+b.phrase.text+"</span><br />"):b.meanings&&$("#translations").append('<span class="click" onclick="addTranslation(\'('+b.meanings[0].text+')\');"><img src="icn/tick-button.png" title="Copy" alt="Copy" /> &nbsp; ('+b.meanings[0].text+")</span><br />")}),a.tuc.length?
$("#translations").after("<p>&nbsp;<br/>"+a.tuc.length+" translation"+(1==a.tuc.length?"":"s")+' retrieved via <a href="http://glosbe.com/a-api" target="_blank">Glosbe API</a>.</p><hr />'):($("#translations").before("<p>No translations found ("+a.from+"-"+a.dest+").</p>"),"en"!=a.dest&&"en"!=a.from?($("#translations").attr("id","no_trans").after('<hr /><p>&nbsp;</p><h3><a href="http://glosbe.com/'+a.from+"/en/"+a.phrase+'">Glosbe Dictionary ('+a.from+'-en):  &nbsp; <span class="red2">'+a.phrase+'</span></a></h3>&nbsp;<p id="translations"></p>'),
getGlosbeTranslation(a.phrase,a.from,"en")):$("#translations").after("<hr />"))}catch(c){$("#translations").text("Retrieval error. Possible reason: There is a limit of Glosbe API calls that may be done from one IP address in a fixed period of time, to prevent from abuse.").after("<hr />")}};
