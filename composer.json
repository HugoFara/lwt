{
    "name": "hugofara/lwt",
    "description": "Learn languages by reading, this is a community maintained version.",
    "type": "library",
    "keywords": ["language-learning","reading","lwt","Learning-with-Texts"],
    "homepage": "https://hugofara.github.io/lwt/",
    "license": "UNLICENSE",
    "minimum-stability": "stable",
    "support": {
        "docs": "https://hugofara.github.io/lwt",
        "forum": "https://github.com/HugoFara/lwt/discussions",
        "issues": "https://github.com/HugoFara/lwt/issues",
        "source": "https://github.com/HugoFara/lwt"
    },
    "autoload": {
        "psr-4": {
            "Lwt\\": "src/backend/",
            "Lwt\\Shared\\": "src/Shared/",
            "Lwt\\Modules\\": "src/Modules/"
        },
        "files": [
            "src/helpers.php"
        ]
    },
    "autoload-dev": {
        "psr-4": {
            "Lwt\\Tests\\": "tests/backend/"
        }
    },
    "require": {
        "php": "^8.1 | ^8.2 | ^8.3 | ^8.4",
        "ext-mbstring": "*",
        "ext-mysqli": "*",
        "ext-dom": "*",
        "phpmailer/phpmailer": "^6.9",
        "league/oauth2-google": "^4.1",
        "thenetworg/oauth2-azure": "^2.2",
        "kiwilan/php-ebook": "^2.0"
    },
    "require-dev": {
        "vimeo/psalm": "^6.0",
        "phpunit/phpunit": "^10.5",
        "league/commonmark": "^2.7",
        "phpdocumentor/shim": "*",
        "squizlabs/php_codesniffer": "^4.0"
    },
    "suggest": {
        "squizlabs/php_codesniffer": "Following code style standards is a good thing"
    },
    "scripts": {
        "test:cleanup-db": "@php tests/cleanup_db_connections.php",
        "test:setup-db": "@php tests/setup_test_db.php",
        "test:reset-db": "@php tests/setup_test_db.php --drop",
        "test:db-status": "@php tests/setup_test_db.php --status",
        "test": [
            "@test:cleanup-db",
            "XDEBUG_MODE=coverage vendor/bin/phpunit"
        ],
        "test:no-coverage": [
            "@test:cleanup-db",
            "vendor/bin/phpunit --no-coverage"
        ],
        "test:integration": [
            "@test:setup-db",
            "@test:cleanup-db",
            "vendor/bin/phpunit --no-coverage --testsuite integration"
        ],
        "psalm": "vendor/bin/psalm",
        "phpcs": "vendor/bin/phpcs",
        "phpcbf": "vendor/bin/phpcbf",
        "doc": [
            "npm run docs:build",
            "./node_modules/.bin/jsdoc -c jsdoc.json",
            "./vendor/bin/phpdoc"
        ],
        "build": "npm run build:all",
        "clean-doc": [
            "rm -rf docs/guide docs/reference docs/developer docs/legal docs/assets docs/hashmap.json",
            "rm -f docs/changelog.html docs/index.html docs/404.html",
            "rm -rf docs/api/js",
            "rm -rf docs/api/php"
        ]
    },
    "scripts-descriptions": {
        "test:cleanup-db": "Kill stale test database connections",
        "test:setup-db": "Create test database and apply all migrations",
        "test:reset-db": "Drop and recreate test database from scratch",
        "test:db-status": "Show test database status (tables, migrations, FK constraints)",
        "test:integration": "Run integration tests (requires database)",
        "test": "Run all tests with coverage (cleans up stale DB connections first)",
        "test:no-coverage": "Run all tests without coverage (cleans up stale DB connections first)",
        "psalm": "Run Psalm static analysis",
        "phpcs": "Check PHP code style (PSR-12)",
        "phpcbf": "Auto-fix PHP code style issues",
        "doc": "Regenerate all documentation (VitePress + JSDoc + phpDoc)",
        "build": "Build frontend assets (Vite + themes)",
        "clean-doc": "Clear generated documentation"
    },
    "config": {
        "allow-plugins": {
            "phpdocumentor/shim": true
        }
    }
}
